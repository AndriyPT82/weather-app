(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(5),i=c.n(s),r=(c(11),c(3)),o=c(2),l=function(e){return(e-273.15).toFixed()+"\xb0 C"},j=(c(12),c(0)),d=function(e){var t=e.cityName,c=e.dt,n=e.humidity,a=e.temp,s=e.weather,i=e.wind_speed,r=new Date(1e3*c);return Object(j.jsxs)("div",{className:"current-day",children:[Object(j.jsxs)("div",{className:"current-day__main-info card",children:[Object(j.jsx)("h2",{children:r.toLocaleDateString("en-US",{weekday:"long"})}),Object(j.jsxs)("div",{className:"current-day__icon ",children:[Object(j.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(s[0].icon,".png"),alt:"weather"}),Object(j.jsx)("div",{className:"current-day__img-description",children:s[0].description})]}),Object(j.jsx)("div",{className:"current-day__temp",children:l(a.day)})]}),Object(j.jsx)("div",{className:"current-day__city-name",children:Object(j.jsx)("h1",{children:t})}),Object(j.jsxs)("div",{className:"current-day__details",children:[Object(j.jsxs)("span",{children:[Object(j.jsx)("span",{children:"Date:"})," ",Object(j.jsx)("span",{children:r.toLocaleDateString("uk-UA")})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("span",{children:"Wind Speed:"})," ",Object(j.jsxs)("span",{children:["".concat(i," m/s")," "]})]}),Object(j.jsxs)("span",{children:[Object(j.jsx)("span",{children:"Humidity:"})," ",Object(j.jsx)("span",{children:n})]})]})]})},u=c(6),h=c.n(u),b=(c(14),function(e){var t=e.index,c=e.dt,a=e.temp,s=e.weather,i=Object(n.useContext)(m),r=i.indexDay,o=i.setIndexDay,d=new Date(1e3*c);return Object(j.jsxs)("li",{className:h()("weekday","card",{"card--active":t===r}),onClick:function(){return o(t)},children:[Object(j.jsx)("h2",{className:"weekday__name",children:d.toLocaleDateString("en-US",{weekday:"long"})}),Object(j.jsx)("div",{className:"weekday__icon",children:Object(j.jsx)("img",{src:"http://openweathermap.org/img/w/".concat(s[0].icon,".png"),alt:"weather"})}),Object(j.jsx)("div",{className:"weekday__temp",children:l(a.day)})]})}),p=(c(15),function(e){var t=e.forecast;return Object(j.jsx)("ul",{className:"weekdays",children:t.map((function(e,t){return Object(j.jsx)(a.a.Fragment,{children:Object(j.jsx)(b,Object(r.a)({index:t},e))})}))})}),O=(c(16),function(e){var t=e.setCoords,c=Object(n.useState)(""),a=Object(o.a)(c,2),s=a[0],i=a[1],r=Object(n.useState)(""),l=Object(o.a)(r,2),d=l[0],u=l[1],h=Object(n.useState)([]),b=Object(o.a)(h,2),p=b[0],O=b[1],m=function(e){var c=e.currentTarget.value||0;t([p[c].center[1],p[c].center[0]]),O([]),setTimeout((function(){i(""),u("")}),1e3)},x=Object(n.useCallback)(function(e,t){var c;return function(){clearTimeout(c);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];c=setTimeout.apply(void 0,[e,t].concat(a))}}(u,500),[]);return Object(n.useEffect)((function(){d.length>2&&fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(d,".json?access_token=pk.eyJ1IjoiYW5kcml5cHQiLCJhIjoiY2t0aWhmOWtnMTF5cjJucGVsNzdrcTJreiJ9.kbk-cwEPs5uiP6trdViiow")).then((function(e){return e.json()})).then((function(e){return console.log(e.features),O(e.features)})).catch((function(e){console.error(e)}))}),[d]),Object(j.jsxs)("div",{className:"input",children:[Object(j.jsxs)("div",{className:"input__controllers",children:[Object(j.jsx)("input",{type:"text",placeholder:"ex: Lviv",value:s,className:"input__field",onChange:function(e){var t=e.target.value;t.length<s.length&&O([]),i(t),x(t)}}),Object(j.jsx)("button",{className:"input__button",disabled:!p.length,onClick:m,children:"go!"})]}),!!p.length&&Object(j.jsx)("ul",{className:"input__options",children:p.map((function(e,t){var c=e.place_name,n=e.country;return Object(j.jsxs)("li",{value:t,className:"input__option",onClick:function(e){i(c),m(e)},children:[Object(j.jsxs)("span",{children:[" ",c]}),Object(j.jsx)("span",{children:n})]})}))})]})}),m=(c(17),a.a.createContext());var x=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),i=Object(o.a)(s,2),l=i[0],u=i[1],h=Object(n.useState)(0),b=Object(o.a)(h,2),x=b[0],f=b[1];Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,c=t.latitude,n=t.longitude;a([c,n])}))}),[]);var v=function(e){var t=e.cityName,c=e.forecast,n=c.daily[0],a=c.daily.slice(0,7);n.cityName=t,u([n,a])};Object(n.useEffect)((function(){if(c.length){var e=Object(o.a)(c,2);(function(e){var t=Object(o.a)(e,2),c=t[0],n=t[1];return Promise.all([fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(c,"&lon=").concat(n,"&appid=5cce314eb75f7136d6791029de739d4e")).then((function(e){return e.json()})).then((function(e){return console.log(e),e.name})),fetch("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(c,"&lon=").concat(n,"&exclude=current,hourly,minutely&appid=5cce314eb75f7136d6791029de739d4e")).then((function(e){return e.json()}))]).then((function(e){return{cityName:e[0],forecast:e[1]}}))})([e[0],e[1]]).then(v)}}),[c]);var g=Object(o.a)(l,2),y=g[0],_=g[1];return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(O,{setCoords:a}),l.length?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(d,Object(r.a)({cityName:y.cityName},_[x])),Object(j.jsx)(m.Provider,{value:{setIndexDay:f,indexDay:x},children:Object(j.jsx)(p,{forecast:_})})]}):Object(j.jsx)("div",{className:"message",children:Object(j.jsx)("span",{children:"Allow geolocation to continue or choose city"})})]})};i.a.render(Object(j.jsx)(x,{}),document.getElementById("root"))}],[[18,1,2]]]);
//# sourceMappingURL=main.4ac61171.chunk.js.map